<%= form_with(model: application, local: true, id: 'applications_form') do |form| %>

  <% if application.is_new? %>
    <div class='form-group'>
      <%= label :applicant, :name, "Applicant's Name" %>
      <%= text_field :applicant, :name, class:'form-control' %>
    </div>
  <% else %>
    <p>
      <strong>Applicant's Name:</strong>
      <%= applicant.name %>
    </p>
  <% end %>

  <% if application.is_new? %>
    <%= render partial: 'applications/address_form', locals: { address: applicant.address } %>
  <% else %>
    <%= render partial: 'applications/address', locals: { address: applicant.address } %>
  <% end %>

  <% if application.in_progress? %>
    <div class="form-group">
      <%= form.label :description, 'Why I would make a good home:' %>
      <%= form.text_area :description, disabled: application.can_not_edit_description, class:'form-control' %>
    </div>
  <% end %>

  <% if application.pending? %>
    <strong>Why I would make a good home:</strong>
    <p><%= application.description%></p>
  <% end %>

  <% if application.is_new? %>
    <div class="form-group">
      <%= form.submit 'Create Application', class:'btn btn-success btn-lg'%>
    </div>
  <% elsif application.ready_to_submit? %>
    <div class="form-group">
      <%= form.submit 'Submit', class:'btn btn-success btn-lg'%>
    </div>
  <% end %>
<% end %>
